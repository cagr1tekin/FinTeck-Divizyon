@page
@model InteraktifKredi.Pages.Dashboard.IndexModel
@{
    ViewData["Title"] = "Dashboard";
}

<div class="dashboard_container">
    <!-- Hoşgeldin Bölümü -->
    <div class="dashboard_header">
        <div class="dashboard_header__content">
            <h1 class="dashboard_title">
                Hoş Geldiniz,
                <span class="dashboard_title__name">@(Model.CustomerName ?? "Müşteri")</span>
            </h1>
            <p class="dashboard_subtitle">Kredi başvurunuzu tamamlamak için aşağıdaki adımları takip edin.</p>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="dashboard_section">
        <h2 class="dashboard_section__title">Hızlı İşlemler</h2>
        <div class="quick_actions">
            <a href="/Profile/Adres" class="quick_action_card">
                <div class="quick_action_card__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                </div>
                <h3 class="quick_action_card__title">Hizmetlerimiz</h3>
                <p class="quick_action_card__description">Tüm hizmetlerimizi keşfedin</p>
            </a>

            <a href="/Dashboard/KrediHesapla" class="quick_action_card">
                <div class="quick_action_card__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                    </svg>
                </div>
                <h3 class="quick_action_card__title">Kredi Hesapla</h3>
                <p class="quick_action_card__description">Kredi tutarınızı hesaplayın</p>
            </a>

            <a href="/Profile/Adres" class="quick_action_card">
                <div class="quick_action_card__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="quick_action_card__title">Profil Bilgilerim</h3>
                <p class="quick_action_card__description">Tamamlama: @Model.ProfileCompletionPercent%</p>
            </a>

            <a href="/SSS" class="quick_action_card">
                <div class="quick_action_card__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/>
                    </svg>
                </div>
                <h3 class="quick_action_card__title">Sık Sorulan Sorular</h3>
                <p class="quick_action_card__description">Yardıma mı ihtiyacınız var?</p>
            </a>
        </div>
    </div>

    <!-- Profil Özeti -->
    <div class="dashboard_section">
        <h2 class="dashboard_section__title">Profil Özeti</h2>
        <div class="profile_summary">
            <div class="profile_summary__progress">
                <div class="progress_bar">
                    <div class="progress_bar__fill" style="width: @Model.ProfileCompletionPercent%"></div>
                </div>
                <div class="profile_summary__percent">
                    <span class="profile_summary__percent__value">@Model.ProfileCompletionPercent%</span>
                    <span class="profile_summary__percent__label">Tamamlandı</span>
                </div>
            </div>

            @if (Model.MissingFields.Any())
            {
                <div class="profile_summary__missing">
                    <h4 class="profile_summary__missing__title">Eksik Bilgiler</h4>
                    <ul class="profile_summary__missing__list">
                        @foreach (var field in Model.MissingFields)
                        {
                            <li class="profile_summary__missing__item">
                                <span class="profile_summary__missing__icon">⚠</span>
                                <span>@field</span>
                            </li>
                        }
                    </ul>
                </div>
            }
            else
            {
                <div class="profile_summary__complete">
                    <div class="profile_summary__complete__icon">✓</div>
                    <p class="profile_summary__complete__text">Tüm bilgileriniz tamamlandı!</p>
                </div>
            }
        </div>
    </div>

    <!-- Son İşlemler -->
    <div class="dashboard_section">
        <h2 class="dashboard_section__title">Son İşlemler</h2>
        <div class="recent_activities">
            <div class="recent_activity_item">
                <div class="recent_activity_item__icon recent_activity_item__icon--success">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                    </svg>
                </div>
                <div class="recent_activity_item__content">
                    <h4 class="recent_activity_item__title">OTP Doğrulandı</h4>
                    <p class="recent_activity_item__date">Bugün</p>
                </div>
            </div>

            <div class="recent_activity_item">
                <div class="recent_activity_item__icon recent_activity_item__icon--info">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                    </svg>
                </div>
                <div class="recent_activity_item__content">
                    <h4 class="recent_activity_item__title">KVKK Onayı Verildi</h4>
                    <p class="recent_activity_item__date">Bugün</p>
                </div>
            </div>
        </div>
    </div>
</div>
